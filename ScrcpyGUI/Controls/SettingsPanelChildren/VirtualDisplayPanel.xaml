<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ScrcpyGUI.Controls.OptionsVirtualDisplayPanel">

        <!-- Main Grid -->
    <Grid RowDefinitions="Auto, *" Padding="0, 30">
            <!-- Border -->
        <Border Grid.Row="1" Padding="20" StrokeThickness="2" Stroke="{StaticResource Purple2}" ZIndex="0">
                <FlexLayout x:Name="OptionsContainer" 
                        Wrap="Wrap" 
                        Direction="Row" 
                        JustifyContent="Center"
                        AlignItems="Center">

                <HorizontalStackLayout>
                    <Label FontSize="16" Text="NewDisplay" VerticalTextAlignment="Center" Margin="0,5"/>
                    <CheckBox x:Name="NewDisplay" CheckedChanged="OnNewDisplayCheckedChanged" />
                </HorizontalStackLayout>

                    <!-- Resolution Dropdown -->
                <HorizontalStackLayout x:Name="ResolutionContainer" IsVisible="False" WidthRequest="230" Margin="5,5">
                        <Label FontSize="16" Text="Resolution" VerticalTextAlignment="Center" Padding="10,5"/>
                        <Picker x:Name="ResolutionPicker" SelectedIndexChanged="OnResolutionSelected">
                            <Picker.ItemsSource>
                                <x:Array Type="{x:Type x:String}">
                                    <x:String>1920x1080</x:String>
                                    <x:String>1280x720</x:String>
                                    <x:String>1366x768</x:String>
                                    <x:String>1600x900</x:String>
                                    <x:String>2560x1440</x:String>
                                    <x:String>3840x2160</x:String>
                                </x:Array>
                            </Picker.ItemsSource>
                        </Picker>
                    </HorizontalStackLayout>

                <HorizontalStackLayout  ToolTipProperties.Text="Move to main display after closing the window" >
                    <Label FontSize="16" Text="Don't destroy content" VerticalTextAlignment="Center" Margin="5,5"/>
                        <CheckBox x:Name="NoVdDestroyContent" CheckedChanged="OnNoVdDestroyContentCheckedChanged"/>
                    </HorizontalStackLayout>

                    <HorizontalStackLayout >
                    <Label FontSize="16" Text="No display decorations" VerticalTextAlignment="Center" Margin="5,5"/>
                    <CheckBox x:Name="NoVdSystemDecorations" CheckedChanged="OnNoVdSystemDecorationsCheckedChanged"/>
                    </HorizontalStackLayout>

                    <!-- DPI Input -->
                    <HorizontalStackLayout >
                    <Label FontSize="16" Text="DPI" VerticalTextAlignment="Center" Margin="5,5"/>
                    <Entry x:Name="DpiEntry" TextChanged="OnDpiTextChanged" Keyboard="Numeric"/>
                    </HorizontalStackLayout>
                </FlexLayout>
            </Border>

            <!-- Label FontSize="16"and Checkbox -->
            <FlexLayout Grid.RowSpan="2" 
                BackgroundColor="#1f1f1f"
                VerticalOptions="Start"
                HorizontalOptions="Center"
                ZIndex="1"
                TranslationY="-25">
                <Label 
                   FontSize="22" Text="Virtual Display"
                   TextColor="{StaticResource Purple2}"
                   FontAttributes="Bold"
                   Padding="10,0,0,0"
                   VerticalOptions="Center"
                   HorizontalOptions="Center"/>
                <ImageButton
                    ToolTipProperties.Text="Clear Settings"
                    Clicked="CleanSettings"
                    HeightRequest="50"
                    WidthRequest="50"
                    BackgroundColor="Transparent"
                    Margin="0"
                    Padding="0"
                    HorizontalOptions="Center"
                    VerticalOptions="Center">
                <ImageButton.Source>
                    <FontImageSource FontFamily="FontAwesome" Glyph="&#xf12d;" Color="{StaticResource Buttons}" Size="20"/>
                </ImageButton.Source>
            </ImageButton>
        </FlexLayout>
        </Grid>
</ContentView>
